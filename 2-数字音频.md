## 第二章 数字音频

**数字音频**:语音生成与识别,MIDI,波形化声音

![](https://cdn.staticaly.com/gh/LuoChen-LC/picx-images-hosting@master/20230603/image-20230305151025322.72xcqxd2qg80.png)

### 2.1 声音的特性,类型与处理

**听觉要素**:

音调：与声音频率有关

音强：振幅的大小

音色：泛音

**声波的物理要素**:周期,频率(人类能够听到的声波频率 20Hz到20KHz),带宽(系统接受的频率范围)

**声音信号连续特性**:

周期信号：单一频率音调的信号，其频谱是线性谱

非周期信号：包含一定频带的所有频率分量，其频谱是连续谱

**方向感**

**时效性**

**模拟音频(Analog audio)和数字音频(Digital audio)**:

模拟音频是一种连续的模拟量，以电、磁等形式表示

计算机不能直接处理模拟音频

数字音频的获得是模拟信号转化为数字信号的过程

数字音频是离散的,模拟音频是连续的.数字音频质量的好坏与采样频率相关,数字音频信息可以被计算机存储,处理和播放。

进一步分为:波形化的声音,数字化的音乐

**声音的处理**(可听声):声音的录制,回放,压缩,传输和编辑等

### 2.2 音频信号处理技术

**计算机产生声音的方式**:

1. **波形音频**：以数字方式表示声波，存储对波形采样后得到的数字化信息（.wav格式）

2. **符号化音频**：MIDI，电子合成器合成的声音（.MID格式）

**波形化声音的数字化**:采样(Sampling),量化(quantization:AD conversion)和编码(Encoding).

![image-20230306140048048](https://cdn.staticaly.com/gh/LuoChen-LC/picx-images-hosting@master/20230603/image-20230306140048048.1l8v971mqohs.png)

**采样**:在某些特定的时刻对模拟信号进行测量称为采样

1. **采样频率**:每秒钟采样的次数称为采样频率
2. **原理**:用一定频率的离散采样序列可以代替一个连续的信号
3. **Nyquist采样定理**:要获得一个无损的采样,就必须以波形最高频率的两倍作为采样频率(激光唱盘:44.1KHz)

**量化**:将信号的连续取值近似为有限多个离散值的过程

1. **量化过程**:量化阶距,量化值
2. **量化精度(量化位数)**:表示采样值的二进制位数.量化位数的多少决定了采样值量化时的精度
3. **均匀量化**:采用相同间隔对采样得到的信号进行量化
4. **非均匀量化**:对输入信号进行量化时,对出现频率小的输入信号采用大的量化间隔,出现频率大的输入信号采用小的量化间隔

**编码**:

每一组二进制码代表一个采样值的量化电平等级

采样频率`f`与量化位数`n`的乘积称为码率或比特率

**WAV文件的数据量计算**

1. 采样频率
2. 量化位数
3. 声道数:双声道(立体声),单声道``
4. 编码方法

WAV文件的字节数/每秒=采样频率$\times$量化位数$\times$声道数/8
$$
\frac{采样频率(Hz)\times 量化位数(位)\times 声道数}{8 \times 1024\times 1024}=兆/每秒
$$
**声音重构**:解码,DA转换和插值

![image-20230306140112753](https://cdn.staticaly.com/gh/LuoChen-LC/picx-images-hosting@master/20230603/image-20230306140112753.25z842bkqmkg.png)

**解码**:编码的逆过程

**数模转化(D/A conversion)**:将数字量转化为模拟量

**插值**:弥补在采样过程中引起的语音信号失真而采取的一种补救措施



**常见声音文件格式**

WAV、MP3、WMA、Real Audio、APE、AAC

### 2.3 电子乐器数字接口(MIDI)系统

**MIDI**:乐器数字接口,用于音乐合成器,乐器和计算机之间交换音乐信息的一种标准协议,MIDI是一套指令的集合.(MIDI不是声音采样信号,可以看作是"计算机能理解的乐谱")

**指令**:在MIDI电缆上传送的指令序列,指示MIDI设备做什么

**音乐合成**:FM合成法(频率调制合成法),乐音样本合成法(波形表合成法)

**FM合成**:基于调制一个音频信号的频率以产生另一个音频信号.在FM合成中,一个较高频率的信号被称为“载波”(carrier)，而另一个较低频率的信号被称为“调制器”(modulator).

**FM合成原理**:调制器的频率和振幅会影响载波的频率和振幅，从而产生不同的音色.当调制器的频率高于载波时，会产生旁系频率，也就是一系列的谐波，这些谐波组合在一起形成了复杂的音色.通过改变调制器的频率,振幅和波形，可以产生各种不同的谐波和音色，从而创造出各种不同的声音效果.

**波表合成**:通过使用波表中存储的数字信号来合成音频信号.波表是一个包含预先录制的数字音频波形的数据表格,通过对波表中的不同波形进行交错,混合和变形,以创造出各种不同的音色.

**MIDI系统**

MIDI协议提供了一种标准的和有效的方法,用来把演奏信息转换成电子数据.

MIDI数据流是单向异步的数据位流,其速率为31.25kbps,每个字节为10位(1位开始位,8位数据位,1位停止位)

MIDI连接器:

1. MIDI IN:输入口,接收MIDI数据的插孔,当连接到MIDI设备时,接收其他MIDI设备发送的MIDI消息.例如音符,音量,音色等信息
2. MIDI OUT:输出口,用于发送MIDI数据的插孔.当连接到MIDI设备时,这个插孔可以将MIDI消息发送给其他MIDI设备，例如合成器,音序器或电脑上的音乐软件.
3. MIDI THRU:转发口,用于转发MIDI数据的插孔.将从MIDI IN接收到的MIDI信息直接转发到MIDI THRU,再转发到其他MIDI设备,实现多个设备之间的MIDI消息传递.

MIDI文件:记录存储MIDI信息的标准文件格式

**MIDI指令或消息**:指令是对乐谱的数字描述

**通道(Channels)**:是一种将MIDI数据分组的方式.对于含有多种乐器的组合音乐,经各自通道送到合成器,合成后混合在一起生成最终的声音.MIDI可为16个通道提供数据

**乐器(合成器)**:根据指令合成出许多不同音色的声音

**复音**:指一次演奏多个音符的能力

**音轨**:通常每个通道是一个单独的音轨

优点：数据量少；可以与波形声音同时播放；易于编辑修改

缺点：质量与硬件有关；不能描述语音

### 2.4 数字语音的应用

**语音设别技术的基础**:

1. 语音特征提取
2. 声学模型与模式匹配(识别算法)
3. 语言模型与语言处理

**语音识别系统的性能**:

1. 识别准确率(P:Precision):正确识别单词数/所有识别出的单词数
2. 识别召回率(R:Recall):正确识别单词数/测试的单词数
3. 替换错误:错误单词数/测试单词数
4. 无反应错误:无反应的次数/测试的单词数
5. 插入错误:插入的单词数/测试的单词数,噪声使系统产生了反应
6. 反应时间
7. 系统吞吐量

**F值**:$F=\frac{2PR}{P+R}$

**语音合成**:MOS主观平均判分法

### 2.5 声卡的构成与功能

**声卡主要有4个组成部分**

1. AD/DA转换器
2. 电子合成器
3. 混音器
4. CD音频连接器

**主要功能:**

1. 录制与播放声音
2. 音乐合成
3. 压缩和解压缩音频文件
4. 与MIDI设备和CD驱动器的连接

![image-20230306233856316](https://cdn.staticaly.com/gh/LuoChen-LC/picx-images-hosting@master/20230603/image-20230306233856316.124ebvs5wu4.png)

**声卡的性能指标**

1. 采样分辨率:表示每个采样点的数字编码的位数，即振幅的精度
2. 采样频率
3. 声道数
4. 兼容性
5. 功能接口

**声音的三维化处理**

三维虚拟声空间 3DVA

时间差ITD 强度差 IID

ITD经验公式：

小于4KHz：ITD = （3 × 头部半径 × 100 / 声音的速度 ）× sin

大于4KHz：ITD = （2 × 头部半径 × 100 / 声音的速度 ）× sin

方位角（sin）是人头相对于声源的角度，以正后方为0，左耳方为90，正前方为180，右耳方为270。
